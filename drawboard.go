package main

import (
	"fmt"
	"strings"
)

func DrawBoard(b *board) {

	board := []string{
		"      A     B     C       D     E     F       G     H     I",
		"   ┌─────┬─────┬─────┐ ┌─────┬─────┬─────┐ ┌─────┬─────┬─────┐",
		" 1 │     │     │     │ │     │     │     │ │     │     │     │",
		"   ├─────┼─────┼─────┤ ├─────┼─────┼─────┤ ├─────┼─────┼─────┤",
		" 2 │     │     │     │ │     │     │     │ │     │     │     │",
		"   ├─────┼─────┼─────┤ ├─────┼─────┼─────┤ ├─────┼─────┼─────┤",
		" 3 │     │     │     │ │     │     │     │ │     │     │     │",
		"   └─────┴─────┴─────┘ └─────┴─────┴─────┘ └─────┴─────┴─────┘",
		"",
		"   ┌─────┬─────┬─────┐ ┌─────┬─────┬─────┐ ┌─────┬─────┬─────┐",
		" 4 │     │     │     │ │     │     │     │ │     │     │     │",
		"   ├─────┼─────┼─────┤ ├─────┼─────┼─────┤ ├─────┼─────┼─────┤",
		" 5 │     │     │     │ │     │     │     │ │     │     │     │",
		"   ├─────┼─────┼─────┤ ├─────┼─────┼─────┤ ├─────┼─────┼─────┤",
		" 6 │     │     │     │ │     │     │     │ │     │     │     │",
		"   └─────┴─────┴─────┘ └─────┴─────┴─────┘ └─────┴─────┴─────┘",
		"",
		"   ┌─────┬─────┬─────┐ ┌─────┬─────┬─────┐ ┌─────┬─────┬─────┐",
		" 7 │     │     │     │ │     │     │     │ │     │     │     │",
		"   ├─────┼─────┼─────┤ ├─────┼─────┼─────┤ ├─────┼─────┼─────┤",
		" 8 │     │     │     │ │     │     │     │ │     │     │     │",
		"   ├─────┼─────┼─────┤ ├─────┼─────┼─────┤ ├─────┼─────┼─────┤",
		" 9 │     │     │     │ │     │     │     │ │     │     │     │",
		"   └─────┴─────┴─────┘ └─────┴─────┴─────┘ └─────┴─────┴─────┘",
		""}

	toStringValue := func(value BoardValue) string {
		switch value {
		case X     : return "X"
		case O     : return "O"
		case Empty : return " "
		}
		return "error"
	}

	row := 0
	for i := 0; i < len(board); i++ {
		line := board[i]
		if len(line) > 0 && line[1] >= '1' && line[1] <= '9' {
			// This line contains values
			row = row + 1

			// First, replace the empty box with a star
			line = strings.Replace(line, "│   ", "│  *", 9)

			// Then, replace the start with the real value
			columns := []byte{'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I'}
			for _, col := range columns {
				line = strings.Replace(line, "*", toStringValue(b.GetAt(col, row)), 1)
			}
		}
		fmt.Println(line)
	}
}